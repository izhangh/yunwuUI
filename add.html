<form class="form-horizontal" id="HandleForm" name="HandleForm" action="test.php" method="post">
    <div class="form-group">
        <label class="col-sm-2 control-label">品种名称:</label>
        <div class="col-sm-10">
            <input type="text" class="form-control" id="name" name="name" data-bv-field="name" value="" />
        </div>
    </div>
    <div class="form-group">
        <label class="col-sm-2 control-label">产地:</label>
        <div class="col-sm-10">
            <input type="text" class="form-control" id="address" name="address" data-bv-field="address" value="" />
        </div>
    </div>
    <div class="form-group">
        <div class="col-sm-12">
            <div class="alert alert-danger nomargin text-center" id="tipDiv" style="display:none;" role="alert"></div>
        </div>
    </div>
    <div class="form-group text-center">
        <div class="col-sm-12">
            <input type='hidden' name='id' id='id' value='' />
            <button type="submit" class="btn btn-success" data-loading-text="正在提交..." autocomplete="off">提交</button>
            <button type="button" class="btn btn-default" data-dismiss="HandleFormModal" id="btnCancelHandleForm">取消</button>
        </div>
    </div>
</form>
<script>
    $(document).ready(function() {
        //表单验证
        $('#HandleForm').bootstrapValidator({
            message: '您输入的信息有误，请仔细检查！',
            feedbackIcons: {
                valid: 'glyphicon glyphicon-ok',
                invalid: 'glyphicon glyphicon-remove',
                validating: 'glyphicon glyphicon-refresh'
            },
            fields: {
                name: {
                    validators: {
                        notEmpty: {
                            message: '名字不能为空'
                        }
                    }
                },
                address: {
                    validators: {
                        notEmpty: {
                            message: '请填写产地'
                        }
                    }
                }
            }
        }).on('success.form.bv', function(e) {
            e.preventDefault();
            var $form = $(e.target);    //获取表单实例
            var bv = $form.data('bootstrapValidator');  //获取bootstrap实例
            //对modal处理，禁用所有按钮
            $('#HandleFormModal').find('button').attr('disabled', true);
            //显示提示信息
            $('#tipDiv').html('<i class="fa fa-spinner fa-spin"></i>数据正在处理，请稍等...').show();
            //ajax处理
            ajaxDo($form.attr('action'), $form.serialize(), "POST");
            if(ajaxReturnData.status == '200') {
                $('#tipDiv').html('<i class="fa fa-check"></i>' + ajaxReturnData.info).show();
                setTimeout(function() {
                    window.location.replace(CURRENTURL);
                }, 1000);
            } else {
                $('#tipDiv').html('<i class="fa fa-exclamation-triangle"></i>' + ajaxReturnData.info).show();
                $('#HandleFormModal').find('button').removeAttr('disabled');     // 恢复按钮
            }
        });
    });
</script>